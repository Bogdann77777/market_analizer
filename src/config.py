"""
Центральный конфигурационный файл проекта Asheville Land Analyzer
Содержит все настройки и параметры системы
"""

import os
from dotenv import load_dotenv

# Загрузка переменных окружения из .env файла
load_dotenv()

# ============================================================================
# ГЕОГРАФИЯ
# ============================================================================

# Центр города Asheville, NC
CITY_CENTER = {
    'lat': 35.5951,
    'lon': -82.5515,
    'name': 'Asheville, NC'
}

# Радиус поиска в милях
RADIUS_MILES = 50

# ============================================================================
# ЦВЕТОВАЯ СХЕМА ($/sqft пороги)
# ============================================================================

COLOR_THRESHOLDS = {
    'green': 350,        # >= $350/sqft - Премиум зона
    'light_green': 300,  # >= $300/sqft - Хорошая зона
    'yellow': 220,       # >= $220/sqft - Средняя зона
    'red': 0             # < $220/sqft - Слабая зона
}

# ============================================================================
# ФИЛЬТР ЗЕМЕЛЬНЫХ УЧАСТКОВ
# ============================================================================

LAND_FILTER = {
    'max_price': 150000,                              # Максимальная цена земли ($)
    'min_lot_size': 0.5,                              # Минимальный размер участка (acres)
    'allowed_zone_colors': ['green', 'light_green'],  # Только выгодные зоны
    'min_nearby_price_sqft': 300,                     # Минимальная цена домов рядом ($/sqft)
    'min_recent_sales': 3,                            # Минимум продаж за 6 мес в радиусе
    'market_heat_allowed': ['stable', 'growing'],     # Разрешенные статусы рынка
    'require_well': False,                            # Обязателен ли колодец
    'require_septic': False                           # Обязателен ли септик
}

# ============================================================================
# ОЦЕНКА СРОЧНОСТИ ЗЕМЕЛЬНЫХ УЧАСТКОВ (баллы)
# ============================================================================

# Баллы за различные факторы
URGENCY_SCORING = {
    'zone_green': 30,          # Зеленая зона (премиум)
    'zone_light_green': 15,    # Светло-зеленая зона
    'high_nearby_price': 25,   # Высокая цена домов рядом (>= $350/sqft)
    'fast_sales': 20,          # Быстрые продажи (DOM < 50 дней)
    'utilities_ready': 15,     # Есть септик и колодец
    'active_market': 10        # Активный рынок (>= 8 продаж за 6 мес)
}

# Пороги уровней срочности
URGENCY_LEVELS = {
    'urgent': 80,   # >= 80 баллов - СРОЧНО!
    'good': 50,     # >= 50 баллов - Хорошая возможность
    'normal': 0     # < 50 баллов - Обычная
}

# ============================================================================
# БАЗА ДАННЫХ
# ============================================================================

DATABASE_URL = os.getenv(
    'DATABASE_URL',
    'sqlite:///asheville_land.db'
)

# ============================================================================
# GMAIL API
# ============================================================================

GMAIL_CREDENTIALS = 'credentials/gmail_credentials.json'
EMAIL_CHECK_INTERVAL = 15  # Интервал проверки почты (минуты)

# ============================================================================
# TELEGRAM BOT
# ============================================================================

TELEGRAM_BOT_TOKEN = os.getenv('TELEGRAM_BOT_TOKEN')
TELEGRAM_CHAT_ID = os.getenv('TELEGRAM_CHAT_ID')

# ============================================================================
# АРХИВАЦИЯ ДАННЫХ
# ============================================================================

ARCHIVE_SOLD_AFTER_DAYS = 730  # Архивировать проданные дома через 2 года
